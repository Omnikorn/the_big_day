{"version":3,"sources":["components/landing/newimages/helena-lopes-Vrb_vtQAxJU-unsplash.jpg","components/landing/newimages/coplerunning.png","components/landing/newimages/hearts.png","components/landing/newimages/cake2.png","components/landing/newimages/flowers.png","utils/queries.js","utils/mutations.js","utils/auth.js","components/createwedding/createwedding.form.jsx","components/Guests.js","utils/partycontext.js","components/Home.js","components/createuser.jsx","lib/magic.js","lib/UserContext.js","components/email-form.js","components/login.js","components/landing/landing.page.jsx","components/countdown/Clock.component.jsx","components/countdown/Count.component.jsx","components/viewwedding/viewwedding.page.jsx","rose.png","components/NavBar.js","gl.jpg","loc.jpg","clock.jpg","components/GuestLanding.js","App.js","reportWebVitals.js","index.js"],"names":["WEDDING_QUERY","gql","GUEST_QUERY","LOGIN_USER","ADD_USER","ADD_GUESTS","ADD_WEDDING","UPDATE_RSVP","UPDATE_MENU","decode","this","getToken","token","organiser","getUser","isTokenExpired","exp","Date","now","localStorage","removeItem","getItem","localUser","JSON","parse","idToken","newuser","setItem","stringify","window","location","assign","useStyles","makeStyles","theme","root","margin","spacing","button","CreateWedding","classes","useState","brideFirstName","brideLastName","groomFirstName","groomLastName","venue","weddingDate","menuChoices","inputFields","setInputField","currentUser","setCurrentUser","setCurrentID","useEffect","Auth","loggedIn","console","log","username","_id","useMutation","addWedding","handleSubmit","error","e","a","preventDefault","variables","bride_first_name","bride_last_name","groom_first_name","groom_last_name","date","menu_choice","wedding_owner","data","handleChangeInput","index","event","target","name","values","value","Container","className","onSubmit","map","inputField","TextField","label","onChange","groon_last_name","Button","vareient","color","type","onClick","endIcon","Icon","Guests","email","rsvp","menu","searchWedding","useQuery","weddings","currentID","addGuests","i","length","handleAddField","handleRemoveField","splice","sendEmail","correctWedding","filter","wedding","params","groom","bride","emailjs","send","process","then","res","alert","catch","err","loading","guests","filteredGuestList","guest","IconButton","PartyContext","createContext","usePartyContext","useContext","PartyProvider","children","setOrganiser","Provider","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","grey","backgroundSize","backgroundPosition","paper","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignIn","password","userFormData","setUserFormData","login","handleInputChange","handleFormSubmit","user","Grid","container","component","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","Typography","variant","noValidate","required","fullWidth","id","autoFocus","Box","mt","addUser","magic","Magic","UserContext","EmailForm","onEmailSubmit","disabled","setEmail","placeholder","size","prefix","Login","history","useHistory","setDisabled","setUser","auth","loginWithMagicLink","redirectURI","URL","origin","href","didToken","fetch","method","headers","Authorization","status","getMetadata","userMetadata","issuer","push","styles","fontFamily","textAlign","insideStyles","padding","position","fontSize","top","left","transform","paragraphStyle","borderRadius","image1","require","default","image2","image3","image4","image5","Landing","bgImage","strength","style","blur","min","max","renderLayer","percentage","background","Clock","deadline","days","setDays","hours","setHours","minutes","setMinutes","seconds","setSeconds","leading0","num","getTimeUntil","time","Math","floor","setInterval","CountDown","props","Callback","weddingData","marginBottom","NavBar","open","setOpen","screenWidth","setScreenWidth","useLocation","trackScreenWidth","innerWidth","handleClose","addEventListener","removeEventListener","Logout","logout","to","src","rose","alt","opacity","pathname","onPress","GuestLanding","rsvpState","setRsvpState","menuState","setMenuState","guestEmail","update_rsvp","update_menu","correctGuest","weddingdate","handleSubmitFood","gl","for","vlaue","loc","clock","httpLink","createHttpLink","uri","authLink","setContext","_","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","partycontext","isLoggedIn","userData","ApolloProvider","exact","path","Home","ViewWedding","createuser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45959b10.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/helena-lopes-Vrb_vtQAxJU-unsplash.7d88f2df.jpg\";","export default __webpack_public_path__ + \"static/media/coplerunning.b4122b28.png\";","export default __webpack_public_path__ + \"static/media/hearts.16c27cb5.png\";","export default __webpack_public_path__ + \"static/media/cake2.39671096.png\";","export default __webpack_public_path__ + \"static/media/flowers.a870abbe.png\";","import { gql } from \"@apollo/client\"\r\n\r\nexport const WEDDING_QUERY = gql`\r\n\t{\r\n\t\tweddings {\r\n\t\t\t_id\r\n\t\t\tbride_first_name\r\n\t\t\tbride_last_name\r\n\t\t\tgroom_first_name\r\n\t\t\tgroom_last_name\r\n\t\t\tdate\r\n\t\t\tvenue\r\n\t\t\twedding_owner\r\n\t\t\tmenu_choice\r\n\t\t}\r\n\t}\r\n`\r\nexport const QUERY_ME = gql`\r\n\t{\r\n\t\tme {\r\n\t\t\t_id\r\n\t\t\tusername\r\n\t\t\temail\r\n\t\t\twedding\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport const ORG_QUERY = gql`\r\n\tquery finduser($userId: String) {\r\n\t\tuser(userId: $userId){\r\n\t\t\tusername\r\n\t\t\t_id\r\n\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport const GUEST_QUERY = gql`\r\nquery getGuests{\r\n\tguests{\r\n\t\tname\r\n\t\temail\r\n\t\trsvp\r\n\t\tmenu\r\n\t\t_id\r\n\t\twedding_owner\r\n\t}\r\n}\r\n`\r\n\r\n","import { gql } from \"@apollo/client\"\n\nexport const LOGIN_USER = gql`\n\tmutation login($email: String!, $password: String!) {\n\t\tlogin(email: $email, password: $password) {\n\t\t\ttoken\n\t\t\tuser {\n\t\t\t\t_id\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport const ADD_USER = gql`\n\tmutation addUser(\n\t\t$username: String!\n\t\t$email: String!\n\t\t$password: String!\n\t) {\n\t\taddUser(\n\t\t\tusername: $username\n\t\t\temail: $email\n\t\t\tpassword: $password\n\t\t) {\n\t\t\ttoken\n\t\t\tuser {\n\t\t\t\t_id\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport const ADD_GUESTS = gql`\n\tmutation addGuests(\n\t\t$name: String!\n\t\t$email: String!\n\t\t$rsvp: String!\n\t\t$menu: String!\n\t\t$wedding_owner: String!\n\t) {\n\t\taddGuests(\n\t\t\tname: $name\n\t\t\temail: $email\n\t\t\trsvp: $rsvp\n\t\t\tmenu: $menu\n\t\t\twedding_owner: $wedding_owner\n\t\t)\n\t\t{\n\t\t\tname \n\t\t\t}\n\t\t}\n\t\n`\nexport const ADD_WEDDING = gql`\nmutation addWedding ( \n\t$bride_first_name: String\n    $bride_last_name: String\n\t$groom_first_name: String\n\t$groom_last_name: String\n\t$date: String\n\t$venue: String\n\t$menu_choice: [String]\n\t$wedding_owner: String\n)\n{ addWedding(bride_first_name: $bride_first_name, bride_last_name: $bride_last_name, groom_first_name: $groom_first_name, groom_last_name: $groom_last_name, date: $date, venue: $venue, menu_choice: $menu_choice, wedding_owner: $wedding_owner)\n{\n\tbride_first_name\n}\n}\n\n`\n\n\nexport const UPDATE_RSVP = gql`\nmutation update_rsvp (\n\t$rsvp:String, $email:String\n){\n\tupdate_rsvp(rsvp: $rsvp, email:$email)\n\t{\n\t\tname\n\t}\n}\n`\n\nexport const UPDATE_MENU= gql`\nmutation update_menu(\n\t$menu:String, $email:String)\n\t{\n\t\tupdate_menu(menu:$menu, email:$email)\n\t\t{\n\t\t\tname\n\t\t}\n\t}\n\n\n`","import decode from \"jwt-decode\"\r\n\r\nclass AuthService {\r\n\tgetProfile() {\r\n\t\treturn decode(this.getToken())\r\n\t}\r\n\r\n\tloggedIn() {\r\n\t\tconst token = this.getToken()\r\n\t\tconst organiser = this.getUser()\r\n\t\treturn {\r\n\t\t\ttoken:\r\n\t\t\t\ttoken && !this.isTokenExpired(token) ? true : false,\r\n\t\t\torganiser: organiser,\r\n\t\t}\r\n\t}\r\n\r\n\tisTokenExpired(token) {\r\n\t\t// Decode the token to get its expiration time that was set by the server\r\n\t\tconst decoded = decode(token)\r\n\t\t// If the expiration time is less than the current time (in seconds), the token is expired and we return `true`\r\n\t\tif (decoded.exp < Date.now() / 1000) {\r\n\t\t\tlocalStorage.removeItem(\"id_token\")\r\n\t\t// TODO added this line to make sure if the user is logged out the data is removed\r\n\t\t\tlocalStorage.removeItem(\"user\")\r\n\t\t\treturn true\r\n\t\t}\r\n\t\t// If token hasn't passed its expiration time, return `false`\r\n\t\treturn false\r\n\t}\r\n\r\n\tgetToken() {\r\n\t\treturn localStorage.getItem(\"id_token\")\r\n\t}\r\n\r\n\tgetUser() {\r\n\t\tconst localUser = localStorage.getItem(\"user\")\r\n\t\tconst organiser = JSON.parse(localUser)\r\n\t\treturn organiser\r\n\t}\r\n\r\n\tlogin(idToken, newuser) {\r\n\t\tlocalStorage.setItem(\"id_token\", idToken)\r\n\t\tlocalStorage.setItem(\"user\", JSON.stringify(newuser))\r\n\t\twindow.location.assign(\"/\")\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tlocalStorage.removeItem(\"id_token\")\r\n\t\t// TODO added this line to make sure if the user is logged out the data is removed\r\n\t\tlocalStorage.removeItem(\"user\")\r\n\t\twindow.location.assign(\"/\")\r\n\t}\r\n}\r\n\r\nexport default new AuthService()\r\n","import React, { useState, useEffect } from \"react\"\nimport Container from \"@material-ui/core/Container\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport RemoveIcon from \"@material-ui/icons/Remove\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport Icon from \"@material-ui/core/Icon\"\nimport emailjs from \"emailjs-com\"\nimport { WEDDING_QUERY } from \"../../utils/queries\"\nimport { useMutation } from \"@apollo/client\"\nimport { ADD_WEDDING } from \"../../utils/mutations\"\nimport Auth from \"../../utils/auth\"\n\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport (\"./createwedding.css\")\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\t\"& .MuiTextField-root\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\n\tbutton: {\n\t\tmargin: theme.spacing(1),\n\t},\n}))\n\nfunction CreateWedding() {\n\tconst classes = useStyles()\n\tconst [inputFields, setInputField] = useState([\n\t\t{\n\t\t\tbrideFirstName: \"\",\n\t\t\tbrideLastName: \"\",\n\t\t\tgroomFirstName: \"\",\n\t\t\tgroomLastName: \"\",\n\t\t\tvenue: \"\",\n\t\t\tweddingDate: \"\",\n\t\t\tmenuChoices: \"\",\n\t\t},\n\t])\n\tconst [organiserState, setOrganiserSate] = useState(null)\n\tconst [currentUser, setCurrentUser] = useState(null)\n\tconst [ currentID, setCurrentID] = useState(null)\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\n\t\t\t\"this is the organiser from local storage\",\n\t\t\torganiser\n\t\t)\n\t\tsetCurrentUser(organiser.username)\n\t\tsetCurrentID(organiser._id)\n\t}, [])\n\tconst [addWedding, {error}] = useMutation(ADD_WEDDING)\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\t\t// console.log(\"input fields\", inputFields)\n\t\tlet i = 0\n\t\ttry{\n\t\t\tconst { data } = await addWedding({variables:{\n\t\t\t\tbride_first_name:inputFields[i].bride_first_name,\n\t\t\t\tbride_last_name:inputFields[i].bride_last_name,\n\t\t\t\tgroom_first_name:inputFields[i].groom_first_name,\n\t\t\t\tgroom_last_name:inputFields[i].groom_last_name,\n\t\t\t\tvenue:inputFields[i].venue,\n\t\t\t\tdate:inputFields[i].date,\n\t\t\t\tmenu_choice:inputFields[i].menu_choice,\n\t\t\t\twedding_owner:currentUser\n\t\t\t\n\t\t}})\n\t\twindow.location.assign(\"/viewwedding\")\n\t\tconsole.log(data)\n\n\t} catch(err){\n\t\tconsole.log (err)}\n\t}\n\n\t\n\n\tconst handleChangeInput = (index, event) => {\n\t\tconsole.log(index, event.target.name)\n\t\tconst values = [...inputFields]\n\t\tvalues[index][event.target.name] = event.target.value\n\t\tsetInputField(values)\n\t}\n\n\t// const handleAddField = () => {\n\t// \tsetInputField([\n\t// \t\t...inputFields,\n\t// \t\t{\n\t// \t\t\tfirstName: \"\",\n\t// \t\t\tlastName: \"\",\n\t// \t\t\temail: \"\",\n\t// \t\t\trsvp: \"\",\n\t// \t\t\tmenue: \"\",\n\t// \t\t},\n\t// \t])\n\t// }\n\n\t// const handleRemoveField = (index) => {\n\t// \tconst values = [...inputFields]\n\t// \tvalues.splice(index, 1)\n\t// \tsetInputField(values)\n\t// }\n\n\treturn (\n\t\t<Container className=\"bigcontainer\">\n\t\t\t<h1 className=\"heading\"> Fill in your wedding details</h1>\n\t\t\t<form\n\t\t\t\tclassName={classes.root}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{inputFields.map((inputField, index) => (\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"bride_first_name\"\n\t\t\t\t\t\t\t\tlabel=\"Bride's First Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.bride_first_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"bride_last_name\"\n\t\t\t\t\t\t\t\tlabel=\"Bride's Last Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.bride_last_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"groom_first_name\"\n\t\t\t\t\t\t\t\tlabel=\"Groom's First Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.groom_first_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"groom_last_name\"\n\t\t\t\t\t\t\t\tlabel=\"Groom's Last Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.groon_last_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t    <TextField\n    \t\t\t\t\t\t\tname=\"venue\"\n    \t\t\t\t\t\t\tlabel=\"Wedding Venue\"\n    \t\t\t\t\t\t\tvalue={inputField.venue}\n    \t\t\t\t\t\t\tonChange={(event) =>\n    \t\t\t\t\t\t\t\thandleChangeInput(index, event)\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n                        <div>\n\t\t\t\t\t\t    <TextField\n    \t\t\t\t\t\t\tname=\"date\"\n    \t\t\t\t\t\t\tlabel=\"Wedding Date\"\n    \t\t\t\t\t\t\tvalue={inputField.date}\n    \t\t\t\t\t\t\tonChange={(event) =>\n    \t\t\t\t\t\t\t\thandleChangeInput(index, event)\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"menu_choice\"\n\t\t\t\t\t\t\tlabel=\"Menu Choices\"\n\t\t\t\t\t\t\tvalue={inputField.menu_choice}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* \n                   <IconButton\n                   onClick={()=> handleRemoveField(index)}>\n                       <RemoveIcon />\n                   </IconButton>\n                   <IconButton\n                   onClick={() => handleAddField()}>\n                       <AddIcon />\n                   </IconButton> */}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t<Button\n\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tendIcon={<Icon>favorite</Icon>}\n\t\t\t\t>\n\t\t\t\t\tcreate your wedding\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</Container>\n\t)\n}\n\nexport default CreateWedding\n","import React, { useState, useEffect } from \"react\"\nimport Container from \"@material-ui/core/Container\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport RemoveIcon from \"@material-ui/icons/Remove\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport Icon from \"@material-ui/core/Icon\"\nimport emailjs from \"emailjs-com\"\nimport Auth from \"../utils/auth\"\nimport {\n\tWEDDING_QUERY,\n\tGUEST_QUERY,\n} from \"../utils/queries\"\nimport { ADD_GUESTS } from \"../utils/mutations\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useQuery, useMutation } from \"@apollo/client\"\n\nconst service = process.env.REACT_APP_SERVICE_ID\nconst template = process.env.REACT_APP_TEMPLATE_ID\nconst user = process.env.REACT_APP_USER_ID\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\t\"& .MuiTextField-root\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\n\tbutton: {\n\t\tmargin: theme.spacing(1),\n\t},\n}))\n\nfunction Guests() {\n\tconst classes = useStyles()\n\n\tconst [inputFields, setInputField] = useState([\n\t\t{ name: \"\", email: \"\", rsvp: \"\", menu: \"\" },\n\t])\n\n\tconst searchWedding = useQuery(WEDDING_QUERY)\n\tconsole.log (\"all the weddings are ...\", searchWedding.data.weddings)\n\n\t\n\tconst [currentUser, setCurrentUser] = useState(null)\n\tconst [currentID, setCurrentID] = useState(null)\n\t\n\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\n\t\t\t\"this is the organiser from local storage\",\n\t\t\torganiser\n\t\t)\n\t\tsetCurrentUser(organiser.username)\n\t\tsetCurrentID(organiser._id)\n\t}, [])\n\n\tconst [addGuests, { error }] = useMutation(ADD_GUESTS)\n\n\t\n\n\n\n\n\n\t// handle the submit form\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\n\t\tlet i\n\t\tfor (i = 0; i < inputFields.length; i++) {\n\t\t\tconsole.log(\"i=\", i, \"input= \", inputFields[i])\n\t\t\ttry {\n\t\t\t\tconst { data } = await addGuests({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tname: inputFields[i].name,\n\t\t\t\t\t\temail: inputFields[i].email,\n\t\t\t\t\t\trsvp: inputFields[i].rsvp,\n\t\t\t\t\t\tmenu: inputFields[i].menu,\n\t\t\t\t\t\twedding_owner: currentUser,\n\t\t\t\t\t},\n\t\t\t\t})\n\n\t\t\t\tconsole.log(data)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleChangeInput = (index, event) => {\n\t\tconsole.log(index, event.target.name)\n\t\tconst values = [...inputFields]\n\t\tvalues[index][event.target.name] = event.target.value\n\t\tsetInputField(values)\n\t}\n\n\tconst handleAddField = () => {\n\t\tsetInputField([\n\t\t\t...inputFields,\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\trsvp: \"\",\n\t\t\t\tmenu: \"\",\n\t\t\t},\n\t\t])\n\t}\n\n\tconst handleRemoveField = (index) => {\n\t\tconst values = [...inputFields]\n\t\tvalues.splice(index, 1)\n\t\tsetInputField(values)\n\t}\n\n\n\n\n\n\n\tfunction sendEmail(index) {\n\t\t// function to send email to each guest based on their index in the table\n\t\tconst values = [...inputFields]\n\t\tconst email = values[index].email\n\t\tconst name = values[index].name\n\n\t\t\tconst correctWedding = searchWedding.data.weddings.filter((wedding)=>{\n\t\treturn wedding.wedding_owner==currentUser\n\t})\nconsole.log ( \"the filtered wedding results are\" , correctWedding)\n\tconst groom = correctWedding[0].groom_first_name\n\tconst bride = correctWedding[0].bride_first_name\n\tconst weddingdate = correctWedding[0].date\n\tconst location = correctWedding[0].venue\n\n\t\tconst params = {\n\t\t\tname: name,\n\t\t\temail: email,\n\t\t\tgroom: groom,\n\t\t\tbride: bride,\n\t\t\tdate: weddingdate,\n\t\t\tvenue:location\n\t\t}\n\n\t\temailjs\n\t\t\t.send(service, template, params, user)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\talert(\"email sent thank you\")\n\t\t\t})\n\t\t\t.catch((err) => console.log(err))\n\t}\n\n\tconsole.log(\"this is the current user\", currentUser)\n\n\tconst { loading, data } = useQuery(GUEST_QUERY)\n\tif (loading) {\n\t\treturn <p>Loading ....</p>\n\t}\n\n\tconsole.log(\"the guest list is\", data.guests)\n\n\tconst filteredGuestList = data.guests.filter((guest) => {\n\t\treturn guest.wedding_owner == currentUser\n\t})\n\n\tconsole.log(\n\t\t\"the filtered guest list is\",\n\t\tfilteredGuestList\n\t)\n\n\n\n\n\n\n\treturn (\n\t\t<Container>\n\t\t\t<h1> Your Guest List</h1>\n\t\t\t<p> my test user id is</p>\n\t\t\t<p>the organiser is {currentUser} </p>\n\t\t\t<p> the user id is {currentID}</p>\n\n\t\t\t<form\n\t\t\t\tclassName={classes.root}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{filteredGuestList.map((guest, index) => (\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Guest Name\"\n\t\t\t\t\t\t\tvalue={guest.name}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\tvalue={guest.email}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"rsvp\"\n\t\t\t\t\t\t\tlabel=\"RSVP\"\n\t\t\t\t\t\t\tvalue={guest.rsvp}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"menu\"\n\t\t\t\t\t\t\tlabel=\"Menu Choice\"\n\t\t\t\t\t\t\tvalue={guest.menu}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={(event) => sendEmail(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend email\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => handleRemoveField(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton onClick={() => handleAddField()}>\n\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t{/* <Button \n            className={classes.button}\n            vareient=\"contained\" \n            color=\"secondary\" \n            type=\"submit\" \n            onClick={handleSubmit}\n            endIcon={<Icon>save</Icon>}>\n                Save Guest List\n                </Button> */}\n\n\t\t\t\t{/* </form> */}\n\t\t\t\t{/* <form className={classes.root} onSubmit={handleSubmit}> */}\n\t\t\t\t{inputFields.map((inputField, index) => (\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Guest Name\"\n\t\t\t\t\t\t\tvalue={inputField.name}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\tvalue={inputField.email}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"rsvp\"\n\t\t\t\t\t\t\tlabel=\"RSVP\"\n\t\t\t\t\t\t\tvalue={inputField.rsvp}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"menu\"\n\t\t\t\t\t\t\tlabel=\"Menu Choice\"\n\t\t\t\t\t\t\tvalue={inputField.menu}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={(event) => sendEmail(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend email\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => handleRemoveField(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton onClick={() => handleAddField()}>\n\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t<Button\n\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tendIcon={<Icon>save</Icon>}\n\t\t\t\t>\n\t\t\t\t\tSave Guest List\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</Container>\n\t)\n}\n\nexport default Guests\n","import React,{createContext, useContext, useState} from \"react\"\r\n\r\n\r\nexport const PartyContext = createContext(null);\r\n\r\n\r\nexport const usePartyContext = () => useContext(PartyContext);\r\n\r\nexport const PartyProvider =({children}) =>{\r\n\r\n const [ organiser, setOrganiser] = useState(null) \r\n \r\n \r\n return (\r\n     <PartyContext.Provider value={{organiser, setOrganiser}}>\r\n         {children}\r\n     </PartyContext.Provider>\r\n )\r\n\r\n}\r\n\r\n","import React, {\n\tuseEffect,\n\tuseState,\n\tuseContext,\n} from \"react\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Button from \"@material-ui/core/Button\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Box from \"@material-ui/core/Box\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useMutation } from \"@apollo/client\"\nimport { LOGIN_USER } from \"../utils/mutations\"\nimport Auth from \"../utils/auth\"\nimport { usePartyContext } from \"../utils/partycontext\"\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\theight: \"100vh\",\n\t},\n\timage: {\n\t\tbackgroundImage:\n\t\t\t\"url(https://images.unsplash.com/photo-1522673607200-164d1b6ce486?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\",\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundColor:\n\t\t\ttheme.palette.type === \"light\"\n\t\t\t\t? theme.palette.grey[50]\n\t\t\t\t: theme.palette.grey[900],\n\t\tbackgroundSize: \"cover\",\n\t\tbackgroundPosition: \"center\",\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}))\n\nexport default function SignIn() {\n\tconst classes = useStyles()\n\n\tconst { organiser, setOrganiser } = usePartyContext()\n\n\t// console.log(\"first set of organisers=\" , organiser)\n\n\tconst [userFormData, setUserFormData] = useState({\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t})\n\n\tconst [login, { error, data }] = useMutation(LOGIN_USER)\n\n\tconst handleInputChange = (event) => {\n\t\tconst { name, value } = event.target\n\t\tsetUserFormData({ ...userFormData, [name]: value })\n\t\tsetOrganiser(value)\n\t\t// console.log(\"data is\", userFormData)\n\t}\n\n\tconst handleFormSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\t// console.log(\"the form data is\", userFormData)\n\n\t\t// const form = event.currentTarget;\n\t\t// if (form.checkValidity()===false){\n\t\t//   event.preventDefault();\n\t\t//   event.stopPropagation();\n\t\t// }\n\t\ttry {\n\t\t\tconst { data } = await login({\n\t\t\t\tvariables: { ...userFormData },\n\t\t\t})\n\t\t\tconst newuser = data.login.user\n\t\t\tconsole.log(\"the new user is \", newuser)\n\t\t\tsetOrganiser(newuser)\n\t\t\t// console.log(\"the organiser state is \", organiser)\n\t\t\t// console.log(\n\t\t\t// \t\"this is the data coming back from the login\",\n\t\t\t// \tdata\n\t\t\t// )\n\n\t\t\tAuth.login(data.login.token, newuser)\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\n\t\tsetUserFormData({\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t})\n\t}\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tcomponent=\"main\"\n\t\t\tclassName={classes.root}\n\t\t>\n\t\t\t<CssBaseline />\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={false}\n\t\t\t\tsm={4}\n\t\t\t\tmd={7}\n\t\t\t\tclassName={classes.image}\n\t\t\t/>\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={12}\n\t\t\t\tsm={8}\n\t\t\t\tmd={5}\n\t\t\t\tcomponent={Paper}\n\t\t\t\televation={6}\n\t\t\t\tsquare\n\t\t\t>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\tonSubmit={handleFormSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.email}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.password}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container></Grid>\n\t\t\t\t\t\t<Box mt={5}></Box>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import React, {\r\n\tuseEffect,\r\n\tuseState,\r\n\tuseContext,\r\n} from \"react\"\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport Button from \"@material-ui/core/Button\"\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport Paper from \"@material-ui/core/Paper\"\r\nimport Box from \"@material-ui/core/Box\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { useMutation } from \"@apollo/client\"\r\nimport { ADD_USER } from \"../utils/mutations\"\r\nimport Auth from \"../utils/auth\"\r\n// import { usePartyContext } from \"../utils/partycontext\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\theight: \"100vh\",\r\n\t},\r\n\timage: {\r\n\t\tbackgroundImage:\r\n\t\t\t`url(\"./jeremy-wong-weddings-K8KiCHh4WU4-unsplash.jpg\")`,\r\n\t\tbackgroundRepeat: \"no-repeat\",\r\n\t\tbackgroundColor:\r\n\t\t\ttheme.palette.type === \"light\"\r\n\t\t\t\t? theme.palette.grey[50]\r\n\t\t\t\t: theme.palette.grey[900],\r\n\t\tbackgroundSize: \"cover\",\r\n\t\tbackgroundPosition: \"center\",\r\n\t},\r\n\tpaper: {\r\n\t\tmargin: theme.spacing(8, 4),\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t},\r\n\tform: {\r\n\t\twidth: \"100%\",\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}))\r\n\r\nexport default function SignIn() {\r\n\tconst classes = useStyles()\r\n\r\n\t// const { organiser, setOrganiser } = usePartyContext()\r\n\r\n\t// console.log(\"first set of organisers=\" , organiser)\r\n\r\n\tconst [userFormData, setUserFormData] = useState({\r\n\t\tusername: \"\",\r\n        email: \"\",\r\n\t\tpassword: \"\",\r\n\t})\r\n\r\n    const [addUser,{error}] = useMutation(ADD_USER)\r\n\t// const [login, { error, data }] = useMutation(LOGIN_USER)\r\n\r\n\tconst handleInputChange = (event) => {\r\n\t\tconst { name, value } = event.target\r\n\t\tsetUserFormData({ ...userFormData, [name]: value })\r\n\t\t// setOrganiser(value)\r\n\t\t// console.log(\"data is\", userFormData)\r\n\t}\r\n\r\n\tconst handleFormSubmit = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tconsole.log(\"the form data is\", userFormData)\r\n\r\n\t\ttry{\r\n            const {data} = await addUser({\r\n                variables:{...userFormData}\r\n            })\r\n            window.location.assign(\"/home\")\r\n        } catch (error){\r\n            console.log(error)\r\n        }\r\n\t\t\r\n\r\n\t\t// setUserFormData({\r\n\t\t// \tusername: \"\",\r\n        //     email: \"\",\r\n\t\t// \tpassword: \"\",\r\n\t\t// })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer\r\n\t\t\tcomponent=\"main\"\r\n\t\t\tclassName={classes.root}\r\n\t\t>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<Grid\r\n\t\t\t\titem\r\n\t\t\t\txs={false}\r\n\t\t\t\tsm={4}\r\n\t\t\t\tmd={7}\r\n\t\t\t\tclassName={classes.image}\r\n\t\t\t/>\r\n\t\t\t<Grid\r\n\t\t\t\titem\r\n\t\t\t\txs={12}\r\n\t\t\t\tsm={8}\r\n\t\t\t\tmd={5}\r\n\t\t\t\tcomponent={Paper}\r\n\t\t\t\televation={6}\r\n\t\t\t\tsquare\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\t\tCreate a new account\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName={classes.form}\r\n\t\t\t\t\t\tnoValidate\r\n\t\t\t\t\t\tonSubmit={handleFormSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\t\tlabel=\"User Name\"\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\tvalue={userFormData.username}\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t/>\r\n                        \r\n                        \r\n                        <TextField\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\tvalue={userFormData.email}\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\t\tvalue={userFormData.password}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSign UP\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Grid container></Grid>\r\n\t\t\t\t\t\t<Box mt={5}></Box>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}","import { Magic } from 'magic-sdk';\n\n\nexport const magic = new Magic(process.env.REACT_APP_MAGIC_KEY);","import { createContext } from 'react';\n\nexport const UserContext = createContext(null);","import { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles((theme) => ({\n    button: {\n      margin: theme.spacing(1),\n    },\n  }));\n  \nconst EmailForm = ({ onEmailSubmit, disabled }) => {\n    const [email, setEmail] = useState('');\n    const classes = useStyles();\n    console.log(\"email is:    \", email)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        onEmailSubmit(email);\n        localStorage.setItem(\"guestEmail\", email)\n    };\n\n    return (\n        <>\n            <form onSubmit={handleSubmit}>\n                <h3 className='form-header'>Login</h3>\n                <div className='input-wrapper'>\n                    <input\n                        placeholder='Enter your email'\n                        size='sm'\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        prefix={<div type='' size={23} color={'#000'} />}\n                    />\n                </div>\n                <div>\n                    <Button\n                    type= \"submit\"\n                    variant=\"contained\"\n                    color=\"default\"\n                    className={classes.button}\n                    >\n                        Send Magic Link\n                    </Button>\n                </div>\n            </form>\n            <style>{`\n        form,\n        label {\n          display: flex;\n          flex-flow: column;\n          text-align: center;\n        }\n        .form-header {\n          font-size: 22px;\n          margin: 25px 0;\n        }\n        .input-wrapper {\n          width: 80%;\n          margin: 0 auto 20px;\n        }\n        \n      `}</style>\n        </>\n    );\n};\n\nexport default EmailForm;","import { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { magic } from '../lib/magic';\nimport { UserContext } from '../lib/UserContext';\nimport EmailForm from './email-form';\nimport SocialLogins from './social-logins';\n\nconst Login = () => {\n  const history = useHistory();\n  const [disabled, setDisabled] = useState(false);\n  const [user, setUser] = useContext(UserContext);\n\n  // If user is already logged in, redirect to profile page\n  useEffect(() => {\n    user && user.issuer && history.push('/login');\n  }, [user, history]);\n\n  async function handleLoginWithEmail(email) {\n    try {\n      setDisabled(true); // disable login button to prevent multiple emails from being triggered\n\n      // Trigger Magic link to be sent to user\n      let didToken = await magic.auth.loginWithMagicLink({\n        email,\n        redirectURI: new URL('/viewwedding', window.location.origin).href,\n        \n         // optional redirect back to your app after magic link is clicked\n        })\n      // console.log(\"email is:   \",email);\n      // f,unction store (email) {localStorage.setItem(\"guestEmail\", email)}\n      \n\n      // Validate didToken with server\n      const res = await fetch(`${process.env.REACT_APP_MAGIC_KEY}/api/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + didToken,\n        },\n      });\n\n      if (res.status === 200) {\n        // Set the UserContext to the now logged in user\n        let userMetadata = await magic.user.getMetadata();\n        await setUser(userMetadata);\n        // history.push('/profile');\n      }\n    } catch (error) {\n      setDisabled(false); // re-enable login button - user may have requested to edit their email\n      console.log(error);\n    }\n  }\n\n  async function handleLoginWithSocial(provider) {\n    await magic.oauth.loginWithRedirect({\n      provider,\n      redirectURI: new URL('/callback', window.location.origin).href, // required redirect to finish social login\n    });\n  }\n\n  return (\n    <>\n      <div className='login'>\n        <EmailForm disabled={disabled} onEmailSubmit={handleLoginWithEmail} />\n        \n      </div>\n      <style>{`\n        .login {\n          max-width: 20rem;\n          margin: 40px auto 0;\n          padding: 1rem;\n          border: 1px solid #dfe1e5;\n          border-radius: 4px;\n          text-align: center;\n          box-shadow: 0px 0px 6px 6px #f7f7f7;\n          box-sizing: border-box;\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default Login;","import React from \"react\"\nimport { Parallax, Background } from \"react-parallax\"\n\nconst styles = {\n\tfontFamily: \"sans-serif\",\n\ttextAlign: \"center\",\n}\n\nconst insideStyles = {\n\t// background: \"white\",\n\tpadding: 20,\n\tposition: \"absolute\",\n\tfontFamily: \"ballada\",\n\tcolor: \"palevioletred\",\n\tfontSize: \"5rem\",\n    width:\"100vw\",\n\ttop: \"50%\",\n\tleft: \"50%\",\n\ttransform: \"translate(-50%,-50%)\",\n}\n\nconst paragraphStyle = {\n\tpadding: 10,\n\tposition: \"absolute\",\n\tcolor: \"white\",\n\tbackgroundColor: \"palevioletred\",\n    borderRadius:\"25px\",\n\tfontSize: \"1rem\",\n\ttop: \"90%\",\n\tleft: \"50%\",\n\ttransform: \"translate(-50%,-70%)\",\n}\n\n\nconst image1 =\n\trequire(\"./newimages/helena-lopes-Vrb_vtQAxJU-unsplash.jpg\").default\n\nconst image2 =\n\trequire(\"./newimages/coplerunning.png\").default\nconst image3 =\n\trequire(\"./newimages/hearts.png\").default\nconst image4 =\n\trequire(\"./newimages/cake2.png\").default\n\nconst image5 = require(\"./newimages/flowers.png\").default\n\n\n\n\n    const Landing = () => {\n        return (\n            <div>\n                <Parallax\n                    // blur={{min:-15, max:15}}\n                    bgImage={\n                        image5\n                    }\n                    strength={-200}\n                >\n                    <div style={{ height: \"140vh\" }} />\n                    <h1 style={insideStyles}>The Big Day</h1>\n                </Parallax>\n                {/* <h1>\n                    {\" \"}\n                    ------------------------------------------------\n                </h1> */}\n                <div style={styles}>\n                    <Parallax bgImage={image1} strength={500}>\n                        <div style={{ height: \"100vh\" }}>\n                            <div style={insideStyles}>\n                                We are here to help!\n                            </div>\n                            <div style={paragraphStyle}>\n                                <p>\n                                    Planning a wedding can be a very magical but\n                                    strssful time.\n                                </p>\n                                <p>\n                                    {\" \"}\n                                    Let us take the stress out of it for you and\n                                    leave you to enjoy the magic\n                                </p>\n                            </div>\n                        </div>\n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    <Parallax\n                        bgImage={image2}\n                        blur={{ min: -1, max: 3 }}\n                    >\n                        <div style={{ height:\"120vh\" }}>\n                            <div style={insideStyles}>\n                                Send it in an Email\n                            </div>\n                            <div style={paragraphStyle}>\n                            <p>Save time (and the planet) and send all your invites electronically from one place</p> \n                            </div>\n                        </div>\n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    <Parallax bgImage={image3} strength={1000}>\n    \n                    <div style={{ height: 500 }}>\n                            <div style={insideStyles}>Track it all</div>\n                            <div style={paragraphStyle}>\n                            <p>For your peace of mind, track your guests' RSVPs and Menu choices from our app</p>\n                            </div>\n                        </div>\n                        \n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    <Parallax\n                        bgImage={image4}\n                        strength={200}\n                        \n                        renderLayer={(percentage) => (\n                            <div>\n                               \n                                    <div\n                                        style={{\n                                            position: \"absolute\",\n                                            background: `rgba(255, 125, 0, ${\n                                                percentage * 1\n                                            })`,\n                                            left: \"50%\",\n                                            top: \"50%\",\n                                            borderRadius: \"50%\",\n                                            transform: \"translate(-50%,-50%)\",\n                                            width: percentage * 500,\n                                            height: percentage * 500,\n                                        }}\n                                    />\n                                \n                            </div>\n                        )}\n                    >\n                        <div style={{ height: 1000 }}>\n                            <div style={insideStyles}> <a href=\"/createuser\">Sign up now</a></div>\n                        </div>\n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    {/* <Parallax strength={500}>\n                        <Background className=\"custom-bg\">\n                            <div\n                                style={{\n                                    height: 2000,\n                                    width: 2000,\n                                    backgroundImage:\n                                        \"url('https://i.imgur.com/8CV5WAB.png')\",\n                                }}\n                            />\n                        </Background>\n                        <div>\n                            <br />\n                            custom background component\n                            <br />\n                            <br />\n                            custom background component\n                            <br />\n                            <br />\n                            custom background component\n                            <br />\n                            <br />\n                        </div>\n                    </Parallax> */}\n                    <div style={{ height: 500 }} />\n                    <h2>{\"\\u2728\"}</h2>\n                </div>\n            </div>\n        )\n    }\n\n\n\n\n\nexport default Landing","import React, { useEffect, useState } from \"react\";\r\n\r\nconst Clock = ({ deadline }) => {\r\n  const [days, setDays] = useState(0);\r\n  const [hours, setHours] = useState(0);\r\n  const [minutes, setMinutes] = useState(0);\r\n  const [seconds, setSeconds] = useState(0);\r\n\r\n  const leading0 = (num) => {\r\n    return num < 10 ? \"0\" + num : num;\r\n  };\r\n\r\n  const getTimeUntil = (deadline) => {\r\n    const time = Date.parse(deadline) - Date.parse(new Date());\r\n    if (time < 0) {\r\n      setDays(0);\r\n      setHours(0);\r\n      setMinutes(0);\r\n      setSeconds(0);\r\n    } else {\r\n      setDays(Math.floor(time / (1000 * 60 * 60 * 24)));\r\n      setHours(Math.floor((time / (1000 * 60 * 60)) % 24));\r\n      setMinutes(Math.floor((time / 1000 / 60) % 60));\r\n      setSeconds(Math.floor((time / 1000) % 60));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setInterval(() => getTimeUntil(deadline), 1000);\r\n\r\n    return () => getTimeUntil(deadline);\r\n  }, [deadline]);\r\n\r\n  return (\r\n    <div>\r\n      <h5 className=\"Clock-days\">{leading0(days)} Days</h5>\r\n      <h5 className=\"Clock-hours\">{leading0(hours)} Hours</h5>\r\n      <h5 className=\"Clock-minutes\">{leading0(minutes)} Minutes</h5>\r\n      <h5 className=\"Clock-seconds\">{leading0(seconds)} Seconds</h5>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Clock;\r\n","import React, { useState } from \"react\";\r\nimport Clock from \"./Clock.component\";\r\n\r\nconst CountDown = (props) => {\r\n  // let deadline = \"march, 7, 2022\";\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      \r\n      <Clock deadline={props.deadline} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountDown;\r\n","import React, {\n\tuseContext,\n\tuseEffect,\n\tuseState,\n} from \"react\"\nimport { PartyContext } from \"../../utils/partycontext\"\nimport { useQuery } from \"@apollo/client\"\nimport { WEDDING_QUERY } from \"../../utils/queries\"\n\nimport { useHistory } from \"react-router-dom\"\nimport { magic } from \"../../lib/magic\"\nimport { UserContext } from \"../../lib/UserContext\"\nimport Auth from \"../../utils/auth\"\nimport CountDown from \"../countdown/Count.component\"\nimport \"./viewweddingstyle.css\"\n\n\n// import Loading from './loading';\nconst Callback = (props) => {\n\tconst history = useHistory()\n\n\tconst [user, setUser] = useContext(UserContext)\n\tconst [organiserState, setOrganiserState] = useState(null)\n\tconst [currentUser, setCurrentUser] = useState(null)\n\tconst [currentID, setCurrentID] = useState(null)\n\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\n\t\t\t\"this is the organiser from local storage\",\n\t\t\torganiser\n\t\t)\n\t\tsetCurrentUser(organiser.username)\n\t\tsetCurrentID(organiser._id)\n\t}, [])\n\n\tconsole.log(\"the currentUser is \", currentUser)\n\tconsole.log(\"the current ID is\", currentID)\n\t// function ViewWedding() {}\n\n\t// `loginWithCredential()` returns a didToken for the user logging in\n\tconst finishEmailRedirectLogin = () => {\n\t\tconst magicCredential = new URLSearchParams(\n\t\t\tprops.location.search\n\t\t).get(\"magic_credential\")\n\t\tif (magicCredential)\n\t\t\tmagic.auth\n\t\t\t\t.loginWithCredential()\n\t\t\t\t.then((didToken) =>\n\t\t\t\t\tauthenticateWithServer(didToken)\n\t\t\t\t)\n\t}\n\n\t// Send token to server to validate\n\tconst authenticateWithServer = async (didToken) => {\n\t\tconst res = await fetch(\n\t\t\t`${process.env.REACT_APP_SERVER_URL}/api/login`,\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tAuthorization: \"Bearer \" + didToken,\n\t\t\t\t},\n\t\t\t}\n\t\t)\n\n\t\tif (res.status === 200) {\n\t\t\t// Set the UserContext to the now logged in user\n\t\t\tconst userMetadata = await magic.user.getMetadata()\n\t\t\tawait setUser(userMetadata)\n\t\t\t//   history.push('/profile');\n\t\t}\n\t}\n\n\tconst { loading, data } = useQuery(WEDDING_QUERY)\n\tif (loading) {\n\t\treturn <p> loading ...</p>\n\t}\n\n\tconsole.log(\n\t\t\"the wedding data from wedding query is\",\n\t\tdata\n\t)\n\n\tconst weddingData = data.weddings.filter((wedding) => {\n\t\t// const weddingID = \"61110f69077f5da76492affa\"\n\t\treturn wedding.wedding_owner == currentUser\n\t})\n\n\tconsole.log(\"the wedding data is \", data.weddings)\n\tconsole.log(\"the filtered wedding data is \", weddingData)\n\treturn (\n\t\t<div className=\"bigcontainer\">\n\t\t\t<h1> Welcome to your wedding</h1>\n\n\t\t\t<div>\n\t\t\t\t{weddingData.map((wedding) => (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h2 className=\"heading\" style={{marginBottom: \"5vh\"}}>{wedding.bride_first_name} & {wedding.groom_first_name}</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>you are getting married on</p>\n\t\t\t\t\t\t<h3 style={{marginBottom: \"5vh\"}}>{wedding.date}</h3>\n\t\t\t\t\t\t<p>that's in</p>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<CountDown style={{marginBottom: \"5vh\"}} deadline={wedding.date} />\n\t\t\t\t\t\t<p> You have invited your friends and family to join you at </p>\n\t\t\t\t\t\t<h3>{wedding.venue}</h3>\n\t\t\t\t\t\t<p> and you have offered them a menu choice of</p>\n\t\t\t\t\t\t<h2>{wedding.menu_choice}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Callback\n","export default __webpack_public_path__ + \"static/media/rose.bcee8332.png\";","import { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport \"./NavBar.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { magic } from \"../lib/magic\";\nimport { CallToAction, button, TextButton } from \"@magiclabs/ui\";\nimport { UserContext } from \"../lib/UserContext\"\nimport Auth from \"../utils/auth\";\nimport { useContext } from \"react\";\nimport \"../components/NavBar.css\"\nimport rose from \"../rose.png\"\nconst NavBar = () => {\n  const [open, setOpen] = useState(false);\n  const [screenWidth, setScreenWidth] = useState(0);\n  const location = useLocation();\n  const history = useHistory();\n    const [user, setUser] = useContext(UserContext);\n  const trackScreenWidth = () => {\n    const width = window.innerWidth;\n    setScreenWidth(width);\n    if (width > 600) {\n      setOpen(true);\n    }\n  };\n  const handleClose = () => {\n    if (screenWidth < 600) {\n      setOpen(false);\n    }\n  };\n  useEffect(() => {\n    trackScreenWidth();\n    window.addEventListener(\"resize\", trackScreenWidth);\n    return () => window.removeEventListener(\"resize\", trackScreenWidth);\n  }, []);\n    const Logout = () => {\n      magic.user.logout().then(() => {\n        setUser({ user: null });\n        localStorage.removeItem(\"guestEmail\")\n        history.push(\"/login\");\n      })\n    };\n    const authenticateWithServer = async didToken => {\n      const res = await fetch(`${process.env.REACT_APP_SERVER_URL}/api/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + didToken,\n        },\n      });\n      if (res.status === 200) {\n        // Set the UserContext to the now logged in user\n        const { email } = await magic.user.getMetadata();\n        await setUser(email);\n        //   history.push('/profile');\n        console.log(\"email address is:  \", email)\n  \n      }\n    };\n  return (\n    <nav className=\"navbar\">\n      <div className=\"nav-wrapper\">\n      <div className=\"logo\">\n          <Link to=\"/\">\n            <img className=\"rose\"\n              src={rose}\n              alt=\"brand\"\n            />\n          </Link>\n        </div>\n        <div className=\"list-wrapper\">\n          <img\n            src=\"https://github.com/DwinaTech/public-images/blob/main/menu-bars.png?raw=true\"\n            alt=\"Menu bars\"\n            style={{ opacity: !open ? 1 : 0 }}\n            onClick={() => {\n              setOpen(!open);\n            }}\n          />\n          <img\n            src=\"https://github.com/DwinaTech/public-images/blob/main/cross-menu-icon.png?raw=true\"\n            alt=\"Menu cross\"\n            style={{ opacity: open ? 1 : 0 }}\n            onClick={() => {\n              setOpen(!open);\n            }}\n          />\n          <ul style={{ left: open ? \"0\" : \"-100vw\" }} className=\"navi\">\n            <li>\n              <Link\n                to=\"/\"\n                onClick={handleClose}\n                style={{ color: location.pathname === \"/\" && \"#4071f4\" }}\n              >\n                Home\n              </Link>\n            </li>\n            <li>\n              <Link\n                to=\"/viewwedding\"\n                onClick={handleClose}\n                style={{ color: location.pathname === \"/viewwedding\" && \"#4071f4\" }}\n              >\n                View Wedding\n              </Link>\n            </li>\n            <li>\n              <Link\n                to=\"/Guests\"\n                onClick={handleClose}\n                style={{ color: location.pathname === \"/Guests\" && \"#4071f4\" }}\n              >\n                Guests\n              </Link>\n            </li>\n            {user?.loading ? (\n          <div style={{ height: '58px' }}></div>\n        ) : user?.issuer ? (\n          <>\n            <li>\n            <TextButton to=\"/home\" color='warning' size='sm' onPress={Logout}>\n                Couple Logout\n              </TextButton>\n            </li>\n          </>\n        ) : (\n          <li>\n              <Link to=\"/home\" color='primary' size='sm' onPress={() => history.push('/home')}>\n              Couple Login\n            </Link>\n          </li>\n        )}\n        {user?.loading ? (\n          <div style={{ height: '58px' }}></div>\n        ) : user?.issuer ? (\n          <>\n            <li>\n            <TextButton to=\"/login\" color='warning' size='sm' onPress={Logout}>\n                Guest Logout\n                </TextButton>\n            </li>\n          </>\n        ) : (\n          <li>\n                <Link to=\"/login\" color='primary' size='sm' onPress={() => history.push('/login')}>\n              Guest Login\n            </Link>\n          </li>\n        )}\n        <li>\n        <Link\n                to=\"/createwedding\"\n                onClick={handleClose}\n                style={{ color: location.pathname === \"/createwedding\" && \"#4071f4\" }}\n              >\n               Create Wedding\n              </Link>\n              </li>\n              <li>\n        <Link\n                to=\"/createuser\"\n                onClick={handleClose}\n                style={{ color: location.pathname === \"/createuser\" && \"#4071f4\" }}\n              >\n               Signup\n              </Link>\n              </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\nexport default NavBar;","export default __webpack_public_path__ + \"static/media/gl.f232ed18.jpg\";","export default __webpack_public_path__ + \"static/media/loc.d6d1f7fc.jpg\";","export default __webpack_public_path__ + \"static/media/clock.46432272.jpg\";","import React, { useState } from \"react\";\nimport \"../vendor/bootstrap.css\"\nimport { useMutation, useQuery } from \"@apollo/client\"\nimport { WEDDING_QUERY, GUEST_QUERY } from \"../utils/queries\"\nimport \"./guestlanding.css\"\nimport gl from \"../gl.jpg\"\nimport loc from \"../loc.jpg\"\nimport clock from \"../clock.jpg\"\nimport CountDown from \"../components/countdown/Count.component\"\nimport {UPDATE_RSVP, UPDATE_MENU} from \"../utils/mutations\"\n\n\n\n\nfunction GuestLanding() {\n\n    const [rsvpState, setRsvpState] = useState(null)\n    const [menuState,setMenuState] = useState(null)\n\n    const searchWedding = useQuery(WEDDING_QUERY)\n    console.log(\"all the weddings are :: \", searchWedding.data)\n\n    // to retreive guest email from local storage\n    const guestEmail = localStorage.getItem(\"guestEmail\")\n    console.log(\"the stored email is \", guestEmail)\n\n    const [update_rsvp, {error}] = useMutation(UPDATE_RSVP)\n    const [update_menu] = useMutation(UPDATE_MENU)\n\n\n    // search guest list for matching email\n    const { loading, data } = useQuery(GUEST_QUERY)\n    if (loading) {\n        return <p>loading</p>\n    }\n\n    const correctGuest = data.guests.filter((guest) => {\n        return guest.email == guestEmail\n\n    })\n\n    console.log(\"the correct guest is \", correctGuest)\n    console.log(\"the guest name is\", correctGuest[0].name)\n\n    // settin wedding owner based on logged in guest\n    const wedding_owner = correctGuest[0].wedding_owner\n    console.log(\"the wedding owner is\", wedding_owner)\n\n    // / filter wedding according to wedding owner \n const correctWedding = searchWedding.data.weddings.filter((wedding)=>{\n     return wedding.wedding_owner==wedding_owner\n })\nconsole.log(\"the correct wedding is\", correctWedding)\n\nconst groom = correctWedding[0].groom_first_name\nconst bride = correctWedding[0].bride_first_name\nconst weddingdate = correctWedding[0].date\nconst location = correctWedding[0].venue\n\n\n\nconsole.log (\"the bride and groom are\" , bride, groom)\nconsole.log (\"menu options as \")\n\nconst handleInput = (event) =>{\n    console.log(\"what is the rsvp choice \", event.target.value)\n    setRsvpState(event.target.value)\n    \n}\n\nconst handleInputFood = (event) =>{\n    console.log(\"what is the food\", event.target.value)\n    setMenuState(event.target.value)\n    \n}\n\nconsole.log(\"the rsvp state=\", rsvpState)\nconsole.log (\"the menustate is\", menuState)\nconst email = correctGuest[0].email\n\nconsole.log(\"the emai is \", email)\n\n\nconst handleSubmit = async (e) =>{\n    \n    e.preventDefault()\n\n try {\n     const {data} = await update_rsvp({\n         variables:{\n             rsvp: rsvpState,\n             email:email\n         }\n     })\n } catch(err) {\n     console.log(err)\n }\n\n}\n\n\nconst handleSubmitFood = async (e) =>{\n    e.preventDefault()\n\n    try {\n        const {data} = await update_menu({\n            variables:{\n                menu: menuState,\n                email:email\n            }\n        })\n    } catch(err) {\n        console.log(err)\n    }\n}\n\n    return (\n        <div className=\"bg container content d-flex flex-row p-2 justify-content-between\">\n            <div className=\"container content d-flex flex-row p-2 justify-content-between\">\n                <div className=\"row\">\n                    <div className=\"col-sm- talk\">\n                        <h1>{bride} & {groom}</h1>\n                        <h1>would love to welcome you to their wedding</h1>\n                        <h1>{correctGuest[0].name}</h1>\n                        <br />\n                        <img className=\"img\" src={gl}></img>\n                        \n                        \n\n                    \n                        \n                                    \n                                    \n                                \n                                <div className=\"container content d-flex flex-column p-2\">\n                        <form className=\"mb-5\" onSubmit={handleSubmit}>\n                            <h1><label for=\"Menu\">Please RSVP</label></h1>\n                            <select id=\"rsvp\" name=\"rsvp\" onChange={handleInput}>\n                                <option value=\"choose\">Choose</option>\n                                <option value=\"yes\">Yes</option>\n                                <option value=\"no\">No</option>\n                                \n                            </select>\n                            <input type=\"submit\" value=\"Submit\" />\n                            </form>\n                            \n                           \n                            <form onSubmit={handleSubmitFood}>\n                            <h1><label for=\"Menu\">Choose your preferred Menu:</label></h1>\n                            <select id=\"menu\" name=\"mwnu\" onChange={handleInputFood}>\n                                <option vlaue=\"choose\"> Choose</option>\n                                <option value=\"vegan\">Vegan</option>\n                                <option value=\"vegeterian\">Vegeterian</option>\n                                <option value=\"meat\">Meat</option>\n                            </select>\n                            <input type=\"submit\" value=\"Submit\"/>\n                            </form>\n                            \n\n\n\n\n                    <div className=\"container content d-flex flex-column p-2\">\n                        <h1>We will Celebrate it at:<br/>{location}</h1>\n                        \n                        <img className=\"location\" src={loc}></img>\n                        <br />\n                    \n                        <h1>On <br /> {weddingdate}</h1>\n                        <br />\n                        <h6 className=\"bold-four\">\n                            We would love it if you could join us in our celebration. Please RSVP above to let us know.\n                            If you have any seperate diatery requirements please send us a message and we will do our best to accomnodate them.  \n                        </h6>\n                        <img src={clock} className=\"clock\" />\n                        <br />\n\n                        <h1>COUNTDOWN</h1>\n                        <CountDown deadline={weddingdate} />\n\n\n\n                    </div>\n                    </div>\n                    </div>\n                    </div>\n                    \n\n                </div>\n            </div>\n\n            );\n}\n\n            export default GuestLanding;","import React, { useState, useContext, useMemo, useEffect } from \"react\"\nimport {\n\tBrowserRouter as Router,\n\tRoute,\n} from \"react-router-dom\"\nimport \"./App.css\"\nimport CreateWedding from \"./components/createwedding/createwedding.form\"\nimport Guests from \"./components/Guests\"\nimport Home from \"./components/Home\"\nimport Createuser from \"./components/createuser\"\nimport Login from \"./components/login\"\nimport Header from \"./components/header\"\nimport { magic } from './lib/magic';\nimport { UserContext } from './lib/UserContext';\nimport Landing from \"./components/landing/landing.page\"\nimport ViewWedding from \"./components/viewwedding/viewwedding.page\"\nimport {\n\tApolloClient,\n\tApolloProvider,\n\tcreateHttpLink,\n\tInMemoryCache,\n} from \"@apollo/client\"\nimport { setContext } from \"@apollo/client/link/context\"\nimport { PartyProvider, usePartyContext } from \"./utils/partycontext\"\nimport Auth from \"./utils/auth\"\nimport NavBar from './components/NavBar'\nimport GuestLanding from './components/GuestLanding'\nimport { slide as Menu } from 'react-burger-menu'\nimport createuser from './components/createuser'\n\n\n\nconst httpLink = createHttpLink({\n\turi: \"/graphql\",\n\t// credentials: \"same-origin\"\n})\n\nconst authLink = setContext((_, { headers }) => {\n\t// get the authentication token from local storage if it exists\n\tconst token = localStorage.getItem(\"id_token\")\n\t// const localUser = localStorage.getItem(\"user\")\n\t// \tconst organiser = JSON.parse(localUser)\n\t// return the headers to the context so httpLink can read them\n\treturn {\n\t\theaders: {\n\t\t\t...headers,\n\t\t\tauthorization: token ? `Bearer ${token}` : \"\",\n\t\t},\n\t}\n})\n\nconst client = new ApolloClient({\n\tlink: authLink.concat(httpLink),\n\tcache: new InMemoryCache(),\n})\n\n\nfunction App() {\n\tconst partycontext = usePartyContext()\n\tconsole.log(\"party context=\", partycontext)\n\tconst [user, setUser] = useState();\n\tconst [openMenu, setOpenMenu] = useState(false)\n\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\"this is the organiser from local storage\", organiser)\n\t}, [])\n\t// If isLoggedIn is true, set the UserContext with user data\n\t// Otherwise, set it to {user: null}\n\tuseEffect(() => {\n\t\tsetUser({ loading: true });\n\t\tmagic.user.isLoggedIn().then((isLoggedIn) => {\n\t\t\treturn isLoggedIn\n\t\t\t\t? magic.user.getMetadata().then((userData) => setUser(userData))\n\t\t\t\t: setUser({ user: null });\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<ApolloProvider client={client}>\n\t\t\t<PartyProvider>\n\t\t\t\t<Router>\n\n\t\t\t\t\t<UserContext.Provider value={[user, setUser]}>\n\n\n\n\n\t\t\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<NavBar />\n\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Landing} />\n\t\t\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t\t\t<Route exact path=\"/Home\" component={Home} />\n\t\t\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\n\t\t\t\t\t\t\t<Route exact path=\"/guestlanding\" component={GuestLanding} />\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/guests\"\n\t\t\t\t\t\t\t\tcomponent={Guests}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/createwedding\"\n\t\t\t\t\t\t\t\tcomponent={CreateWedding}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/viewwedding\"\n\t\t\t\t\t\t\t\tcomponent={ViewWedding}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/createuser\"\n\t\t\t\t\t\t\t\tcomponent={createuser}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UserContext.Provider>\n\n\t\t\t\t</Router>\n\t\t\t</PartyProvider>\n\t\t</ApolloProvider>\n\t)\n}\n// only changes provider value if one of the params change (may need to remove)\n// const value = useMemo(()=>({organiser, setOrganiser}),[organiser,setOrganiser])\n\n\n\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}